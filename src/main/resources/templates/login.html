<!DOCTYPE html>
<html lang="en" th:replace="~{base :: parent(~{:: #content},~{::title})}"  xmlns:th="http://www.thymeleaf.org"
>
<head>
    <title>Login Page</title>
</head>
<body>
<div id="content" class="gap-4">

    <div class="container my-5 px-3 px-sm-4">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-10 col-md-8 col-lg-6">
                <div class="card signup-card shadow-lg">
                    <div class="card-body p-4">

                        <!-- Message fragment -->
                        <div data-th-replace="~{message :: message}"></div>

                        <h1 class="mt-2 mb-4 text-center"><strong>Login Here</strong></h1>

                        <form method="post" th:action="@{/authenticate}">
                            <div class="mb-3">
                                <label for="email" class="form-label"><h6><strong>Email</strong></h6></label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label"><h6><strong>Password</strong></h6></label>
                                <input type="password" class="form-control" id="password" name="password" placeholder="Enter password" required>
                            </div>

                            <!-- Show error message if login fails -->
                            <div th:if="${param.error}" class="alert alert-danger">
                                Invalid credentials. Please try again.
                            </div>

                            <!-- Show logout message -->
                            <div th:if="${param.logout}" class="alert alert-success">
                                You have been logged out successfully.
                            </div>

                            <div class="d-flex justify-content-center">
                                <button type="submit" class="btn btn-primary border border-3 border-white w-75">Sign In</button>
                            </div>
                        </form>

                        <p class="my-3 text-center">Or</p>

                        <h2 class="text-center mb-3">Login with</h2>

                        <div class="d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 mb-3">
                            <a href="http://localhost:8080/oauth2/authorization/google"
                               class="btn d-flex align-items-center gap-2 px-3 py-2 w-100 w-md-auto justify-content-center"
                               style="background-color: #ffffff; color: #000000; border: 1px solid #ccc; border-radius: 8px;"
                               onmouseover="this.style.backgroundColor='#f1f1f1'"
                               onmouseout="this.style.backgroundColor='#ffffff'">
                                <img src="https://i.pinimg.com/1200x/60/41/99/604199df880fb029291ddd7c382e828b.jpg"
                                     alt="Google"
                                     style="width: 30px; height: 30px; border-radius: 50%;">
                                <span style="font-weight: 500;">Login with Google</span>
                            </a>

                            <a href="http://localhost:8080/oauth2/authorization/github"
                               class="btn d-flex align-items-center gap-2 px-3 py-2 w-100 w-md-auto justify-content-center"
                               style="background-color: #24292e; color: #ffffff; border-radius: 8px;"
                               onmouseover="this.style.backgroundColor='#1b1f23'"
                               onmouseout="this.style.backgroundColor='#444648'">
                                <img src="https://i.pinimg.com/1200x/b2/c5/e6/b2c5e65384b1b0ea4cd351b6155e1b29.jpg"
                                     alt="GitHub"
                                     style="width: 30px; height: 30px; border-radius: 50%;">
                                <span style="font-weight: 500;">Login with GitHub</span>
                            </a>
                        </div>

                        <meta name="_csrf" data-th-content="${_csrf.token}"/>
                        <meta name="_csrf_header" data-th-content="${_csrf.headerName}"/>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
</body>
</html>
