<!doctype html>
<html lang="en" data-th-fragment="sidebar">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome (icons) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <style>
        :root {
            --sidebar-width: 260px;
            --navbar-height: 76px;
            --accent: #2e6ef8;
        }

        body {
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            margin: 0;
        }

        .navbar {
            height: var(--navbar-height);
        }

        /* SIDEBAR VERTICAL (desktop) */
        .sidebar {
            position: fixed;
            top: var(--navbar-height);
            left: 0;
            height: calc(100% - var(--navbar-height)) ;
            width: var(--sidebar-width);
            padding: 1.25rem 0.75rem;
            background: linear-gradient(180deg, rgba(18,30,45,0.95), rgba(14,22,36,0.95));
            border-right: 1px solid rgba(255,255,255,0.03);
            z-index: 1030;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .sidebar.collapsed {
            width: 5%;
            overflow-x: visible;
        }

        .sidebar.collapsed .nav-link span,
        .sidebar.collapsed .brand .title {
            display: none;
        }

        .sidebar.collapsed .nav-link {
            justify-content: center;
        }

        /* Brand */
        .sidebar .brand {
            display: flex;
            align-items: center;
            gap: .5rem;
            margin-bottom: .75rem;
            padding-left: .5rem;
            color: #eaf3ff;
        }
        .sidebar .brand img {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }
        .sidebar .title {
            font-weight: 700;
            font-size: 1.05rem;
        }

        /* Sidebar nav links vertical */
        .sidebar .nav {
            flex-direction: column;
            padding-left: 0;
            margin-bottom: 0;
            list-style: none;
            flex-grow: 1;
        }

        .sidebar .nav-link {
            color: #cfe3ff;
            padding: .6rem .75rem;
            border-radius: .55rem;
            display: flex;
            align-items: center;
            gap: .85rem;
            transition: background .12s, color .12s;
            font-weight: 500;
            white-space: nowrap;
        }

        .sidebar .nav-link .fa-fw {
            width: 20px;
            text-align: center;
            opacity: .9;
            color: #9fb3d8;
        }

        .sidebar .nav-link:hover {
            background: rgba(255,255,255,0.035);
            color: #fff;
            text-decoration: none;
        }

        .sidebar .nav-link.active {
            background: linear-gradient(90deg,#1b3b7d20, rgba(46,110,248,0.06));
            border-left: 3px solid var(--accent);
            color: #fff;
            box-shadow: 0 6px 18px rgba(3,10,30,0.45);
        }

        .sidebar .badge-pro {
            font-size: .66rem;
            font-weight: 600;
            padding: .18rem .4rem;
            border-radius: 999px;
            color: #23324e;
            background: #dfe8ff;
            display: inline-block;
        }

        .sidebar .badge-notify {
            min-width: 28px;
            padding: .25rem .35rem;
            border-radius: 999px;
            font-size: .7rem;
            font-weight: 600;
            color: #0b2a6a;
            background: #cde1ff;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar hr {
            border-color: rgba(255,255,255,0.03);
            margin: .75rem 0;
        }


        /* =================
        Responsive: Sidebar switches to horizontal below navbar at <=992px
        =================== */

        @media (max-width: 992px) {
            .sidebar {
                position: fixed;
                top: var(--navbar-height);
                left: 0;
                width: 100%;
                height: auto;
                padding: 0;
                background: #6aabfc; /* or your light bg */
                border-right: none;
                border-bottom: 1px solid rgba(0,0,0,0.1);
                display: flex !important;
                flex-direction: row !important; /* Ensures the main sidebar container is a row */
                overflow-x: auto; /* Enables horizontal scrolling */
                overflow-y: hidden;
                white-space: nowrap; /* Prevents wrapping of text */
                z-index: 1030;
            }
            .sidebar .nav .nav-link .badge-notify {
                display: none;
            }
            .sidebar .nav .nav-link .badge-pro {
                display: none;
            }
            .sidebar .nav-link .fa-fw {
                width: auto;
                opacity: 1;
                font-size: 1.2rem;
            }

            .sidebar .collapsed {
                width: 100% !important;
            }

            /* Brand */
            .sidebar .brand .title{
                display: none;

            }

            .sidebar .brand img {
                /*display: none;*/
            }

            /* Nav horizontal */
            .sidebar .nav {
                flex-direction: row !important;
                flex-grow: 1;
                padding-left: 0;
                margin: 0;
                overflow-x: scroll; /* Enables scrolling for the nav list */
                overflow-y: hidden;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: thin;
                scrollbar-color: #7a99ff transparent;
            }

            /* For WebKit browsers (Chrome, Safari, etc.) */
            .sidebar .nav::-webkit-scrollbar {
                display: none;
            }

            .sidebar .nav-link {
                flex: 0 0 auto;
                padding: 0.75rem 1rem;
                font-weight: 600;
                color: #fff;
                border-radius: 0;
                border-left: none !important;
                border-bottom: none !important;
                white-space: nowrap;
                text-align: center;
                display: inline-flex;
                flex-direction: column;
                align-items: center;
                gap: 0.3rem;
                min-width: 80px;
                justify-content: center;
                border-right: 1px solid rgba(255,255,255,0.15);
                transition: background-color 0.3s ease;
            }

            .sidebar .nav-link:last-child {
                border-right: none;
            }

            .sidebar .nav-link .fa-fw {
                width: auto;
                opacity: 1;
                font-size: 1.2rem;
                color: #e0e7ff;
            }

            .sidebar  #sidebar-options {
                display: flex;
                flex-direction: row !important;
                flex-grow: 1;
                padding-left: 0;
                margin: 0;
                overflow-x: scroll;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                flex-wrap: nowrap;
            }

            .sidebar .nav-link span {
                font-size: 0.75rem;
                color: #e0e7ff;
            }

            .sidebar .nav-link:hover,
            .sidebar .nav-link.active {
                background-color: rgba(255, 255, 255, 0.3);
                color: #fff;
            }

            .sidebar hr {
                display: none;
            }

            .collapsed {
                overflow: hidden;
                width: 5% !important;
                display: flex !important;
                align-items: center;
                justify-content: center;
            }

            .collapsed #sidebar-options {
                display: none;
            }
            .collapsed .brand {
                /*overflow-x: hidden;*/
                width: 100% !important;
            }
        }

        /* Scrollbar styling for horizontal nav */
        .sidebar .nav::-webkit-scrollbar {
            height: 6px;
        }
        .sidebar .nav::-webkit-scrollbar-track {
            background: transparent;
        }
        .sidebar .nav::-webkit-scrollbar-thumb {
            background-color: rgba(122, 153, 255, 0.7);
            border-radius: 3px;
        }
    </style>
</head>
<body>

<!-- Sidebar -->
<aside class="sidebar" aria-label="Sidebar menu" th:fragment="sidebar">
    <div class="brand ps-2 pt-2" id="sidebar-brand">
        <button id="sidebarToggle" class="btn btn-link text-white p-0 me-2" style="font-size: 1.5rem;">
            <i class="fa-solid fa-bars"></i>
        </button>
        <div class="title">ContactVerse</div>
    </div>

    <ul id="sidebar-options" class="nav flex-column px-1">
<!--        <li class="nav-item mb-1">-->
<!--            <a data-th-href="@{/user/dashboard}" class="nav-link" aria-current="page">-->
<!--                <i class="fa-solid fa-chart-pie fa-fw fa-icons"></i>-->
<!--                <span>Dashboard</span>-->
<!--            </a>-->
<!--        </li>-->
        <li class="nav-item mb-1">
            <a data-th-href="@{/user/profile}" class="nav-link">
<!--                <i class="fa-solid fa-table-cells fa-fw fa-icons"></i>-->
                <i class="fa-solid fa-circle-user fa-fw fa-icons"></i>
                <span class="flex-grow-1">Profile</span>
<!--                <span class="badge-pro">Pro</span>-->
            </a>
        </li>
        <li class="nav-item mb-1">
            <a data-th-href="@{/user/contact/addContact}" class="nav-link">
<!--                <i class="fa-solid fa-inbox fa-fw fa-icons"></i>-->
                <i class="fa-solid fa-user-plus fa-fw fa-icons"></i>
                <span class="flex-grow-1">Add Contact</span>
<!--                <span class="badge-notify ms-2">3</span>-->
            </a>
        </li>
        <li class="nav-item mb-1">
            <a data-th-href="@{/user/contact/saved-contacts}" class="nav-link">
<!--                <i class="fa-solid fa-users fa-fw fa-icons"></i>-->
                <i class="fa-solid fa-address-book fa-fw fa-icons"></i>
                <span>Contacts</span>
            </a>
        </li>
<!--        <li class="nav-item mb-1">-->
<!--            <a href="#" class="nav-link">-->
<!--                <i class="fa-solid fa-magnifying-glass fa-fw fa-icons"></i>-->
<!--                <span>Search</span>-->
<!--            </a>-->
<!--        </li>-->
        <hr>
        <li class="nav-item mb-1">
            <a data-th-href="@{'/logout'}" class="nav-link">
                <i class="fa-solid fa-arrow-right-to-bracket fa-fw fa-icons"></i>
                <span>Sign Out</span>
            </a>
        </li>
        <li class="nav-item mb-0">
            <a data-th-href="@{'/signup'}" class="nav-link">
                <i class="fa-solid fa-pen-to-square fa-fw fa-icons"></i>
                <span>Sign Up</span>
            </a>
        </li>
    </ul>
</aside>

</body>
</html>
